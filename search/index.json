[{"content":"参考： https://www.cnblogs.com/Ganders/p/16522314.html\nPhoto by Pawel Czerwinski on Unsplash\n","date":"2024-10-20T00:00:00Z","image":"https://img.543083.xyz/api/cfile/AgACAgUAAxkDAAIBymcZ2gEc5061x-nlL9wtL0TbaIsaAAIlwDEbXNPRVIvESQrMDUDZAQADAgADeAADNgQ","permalink":"https://blog.yonflee.us.kg/p/hyper-v%E5%90%AF%E7%94%A8%E5%A4%96%E9%83%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%88%86%E9%85%8Dip/","title":"hyper-v启用外部虚拟机自动分配IP"},{"content":"https://diyforfun.cn/907.html\nhttps://hqw700.github.io/2024/04/10/2024-04-10-pve-setup-in-n100/\nhttps://hqw700.github.io/2024/04/11/2024-04-11-pve-setup-igpu-sriov-mode-in-n100/\nhttps://www.geekxw.top/757/\nhttps://www.bilibili.com/read/cv27646048/?jump_opus=1\nPhoto by Pawel Czerwinski on Unsplash\n","date":"2024-10-20T00:00:00Z","image":"https://img.543083.xyz/api/cfile/AgACAgUAAxkDAAIBymcZ2gEc5061x-nlL9wtL0TbaIsaAAIlwDEbXNPRVIvESQrMDUDZAQADAgADeAADNgQ","permalink":"https://blog.yonflee.us.kg/p/n100%E5%AE%89%E8%A3%85pve/","title":"n100安装pve"},{"content":"1、dashboard备份 备份/opt/nezha下的的目录和nezha.sh 新机器上执行nezha.sh，启动dashboard\n2、dashboard取消8008开放端口,使用1panel转发 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 cat docker-compose.yaml version: \u0026#34;3.3\u0026#34; services: dashboard: image: ghcr.io/naiba/nezha-dashboard restart: always volumes: - ./data:/dashboard/data - ./static-custom/static:/dashboard/resource/static/custom:ro - ./theme-custom/template:/dashboard/resource/template/theme-custom:ro - ./dashboard-custom/template:/dashboard/resource/template/dashboard-custom:ro ports: - 127.0.0.1:8008:80 - 5555:5555 ","date":"2024-10-20T00:00:00Z","image":"https://img.543083.xyz/api/cfile/AgACAgUAAxkDAAIBymcZ2gEc5061x-nlL9wtL0TbaIsaAAIlwDEbXNPRVIvESQrMDUDZAQADAgADeAADNgQ","permalink":"https://blog.yonflee.us.kg/p/nezha%E5%AE%89%E8%A3%85%E5%A4%87%E4%BB%BD/","title":"nezha安装备份"},{"content":"爱影 CMS 是市面上不多见的 GO 语言实现的 CMS 软件。虽然免费但是没有开源，考虑官方已经一个多月没有更新，且官方社区、电报群、在线客服都处于失联状态，很有可能要干不下去。所以先把官方安装教程、相关资源做个备份。\nUbuntu 安装脚本 官方提供了一键安装脚本，很方便。\n1 sudo rm -f iycms.sh; sudo wget --no-check-certificate -c -O iycms.sh https://www.iycms.com/api/static/down/linux/ubuntu/install_x86_64.sh;sudo chmod +x iycms.sh;sudo ./iycms.sh install_x86_64.sh 文件内容：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 #!/bin/bash apt install -y unzip echo \u0026#34;开始安装爱影CMS最新版本\u0026#34; rm -f iycms.zip; wget --no-check-certificate \u0026#34;https://www.iycms.com/api/v1/download/cms/latest?os=1\u0026amp;kind=x86_64\u0026#34; -O iycms.zip echo \u0026#34;解压文件\u0026#34; unzip -o -q iycms.zip -d /home/iycms rm -f iycms.zip echo \u0026#34;开始安装系统服务\u0026#34; echo \u0026#34;[Unit] Description=iycms service Documentation=https://www.iycms.com [Service] Type=simple Restart=always User=root WorkingDirectory=/home/iycms/ ExecStart=/home/iycms/cms RestartSec=1 StandardOutput=append:/home/iycms/stdout.log StandardError=append:/home/iycms/stdout.log [Install] WantedBy=multi-user.target\u0026#34;\u0026gt;/etc/systemd/system/iycms.service systemctl daemon-reload systemctl enable iycms systemctl restart iycms rm -f ./iycms.sh systemctl stop ufw systemctl disable ufw echo \u0026#34;安装完成\u0026#34; 到时候把安装程序的下载链接改成自己的就行。\n脚本安装自动配置好了进程守护并使用 systemctl 管理器进行状态管理。\n在线安装或脚本安装的默认安装路径为：/home/iycms\nsystemctl 管理：\n1 2 3 4 5 systemctl start iycms\t# 启动iycms服务 systemctl stop iycms # 停止iycms服务 systemctl restart iycms # 重新启动iycms服务 配置 访问 http://yourserver:21007 进入数据库安装界面。\n数据库可选 MySQL 或 PostgreSQL。\n我用的是 MySQL，虽然有选择数据库端口跟名称的步骤，但我实测不能改，否则找不到数据库，只能用默认值。\n数据库安装完就可以登录后台配置网站内容了。\n爱影 CMS 提供了很多插件，但是很多都是需要通过官方认证授权的，比如常用的统计分析、模板中心。一旦官方跑路，这些插件就不能用了。\n网站统计没什么，把自己常用的统计代码放到模板 html 文件里就行。\n模板的话，需要提前把模板压缩包备份，用的时候放到 /iycms/data/tpl/ 目录下。\n资源备份地址：github\nPhoto by Pawel Czerwinski on Unsplash\n","date":"2024-10-20T00:00:00Z","image":"https://img.543083.xyz/api/cfile/AgACAgUAAxkDAAIBymcZ2gEc5061x-nlL9wtL0TbaIsaAAIlwDEbXNPRVIvESQrMDUDZAQADAgADeAADNgQ","permalink":"https://blog.yonflee.us.kg/p/%E7%88%B1%E5%BD%B1cms%E6%90%AD%E5%BB%BAiycms/","title":"爱影cms搭建iycms"},{"content":"页面上的所有操作都会收费，如开关机 如果不想用了，命令行栅机：\n1 2 3 4 #stop scw instance server stop 88e2ffa0-3923-42a1-9b3e-bf51774261ea zone=pl-waw-2 #delete scw instance server delete 88e2ffa0-3923-42a1-9b3e-bf51774261ea zone=pl-waw-2 with-volumes=all 设置 SSH Key/创建实例 在面板右上角点击头像，选择 SSH Keys，创建新的 SSH Key 以便后续连接服务器 在面板右上角点击 CLI，根据需要的区域，输入以下命令：\n1 2 3 4 5 法国：scw instance server create zone=fr-par-1 root-volume=local:10GB name=fr type=STARDUST1-S ipv6=true ip=none 荷兰：scw instance server create zone=nl-ams-1 root-volume=local:10GB name=nl type=STARDUST1-S ipv6=true ip=none 波兰：scw instance server create zone=pl-waw-2 root-volume=local:10GB name=pl type=STARDUST1-S ipv6=true ip=none 返回服务器信息表示命令执行成功。如果返回各种乱七八糟参数，表示命令输入有误，需重新执行。\n添加 IPv6/防火墙规则 左侧 Instances，点击 Attach flexible IP，创建免费 ipv6 左侧 Instances，Security group 选项卡，进入，Rules 选项卡，右侧编辑，添加所有协议的入栈出栈 Accept 规则 分离/创建/删除硬盘 面板关机：左侧 Instances，进入实例管理面板，右上角开关，关机 分离 10GB 硬盘：实例管理面板，Attached volumes 选项卡，在硬盘右侧三个点选 Detach 解绑 创建 1GB 硬盘：点击 Create Volume 创建 Local Storage，大小 1GB 删除 10GB 硬盘：左侧 Instances，Volumes 选项卡，旧 10GB 硬盘右侧三个点选 Delete 删除 救援模式/连接 SSH 在实例管理面板的 Advanced settings 选项卡中，选中 Use rescue image，保存 面板关机：左侧 Instances，进入实例管理面板，右上角开关，开机 重启后耐心等待 10 分钟，通过创建的 SSH Key 连接实例，执行命令： 1 2 parted /dev/vda mklabel gpt wget -qO- https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.1-x86_64.iso | dd of=/dev/vda 改硬盘启动 面板关机：左侧 Instances，进入实例管理面板，右上角开关，关机 更改硬盘启动：实例管理面板，Advanced settings 选项卡，选中 Use local boot，保存，Boot volume 选择 1GB 硬盘，保存，开机 进入 Console 安装系统前置操作 1 2 3 4 5 6 7 8 mkdir /media/setup cp -a /media/vda/* /media/setup mkdir /lib/setup cp -a /.modloop/* /lib/setup /etc/init.d/modloop stop umount /dev/vda mv /media/setup/* /media/vda/ mv /lib/setup/* /.modloop/ 安装 Alpine 1 setup-alpine 按照以下步骤回答安装过程中问题： 输入主机名 done 输入 y，按 i 进入编辑模式，输入以下网络配置（IPv6 地址和网关可以从实例管理面板中获取）： 1 2 3 4 5 6 7 8 auto lo iface lo inet loopback auto eth0 iface eth0 inet dhcp iface eth0 inet6 static address \u0026lt; 你的 IPv6\u0026gt; netmask 64 gateway \u0026lt; 你的 IPv6 网关\u0026gt; 新建 root 密码 输入时区，巴黎 Europe/Paris，阿姆斯特丹 Europe/Amsterdam，华沙 Europe/Warsaw 1 2 3 4 5 6 7 8 none skip no openssh yes none vda sys 报错后 vi /etc/resolv.conf 输入以下内容并保存 1 nameserver 2001:4860:4860::6464 输入命令启用官方源 1 2 3 4 5 echo \u0026#34;http://dl-cdn.alpinelinux.org/alpine/latest-stable/main\u0026#34; \u0026gt;\u0026gt; /etc/apk/repositories echo \u0026#34;http://dl-cdn.alpinelinux.org/alpine/latest-stable/community\u0026#34; \u0026gt;\u0026gt; /etc/apk/repositories echo \u0026#34;#http://dl-cdn.alpinelinux.org/alpine/edge/main\u0026#34; \u0026gt;\u0026gt; /etc/apk/repositories echo \u0026#34;#http://dl-cdn.alpinelinux.org/alpine/edge/community\u0026#34; \u0026gt;\u0026gt; /etc/apk/repositories echo \u0026#34;#http://dl-cdn.alpinelinux.org/alpine/edge/testing\u0026#34; \u0026gt;\u0026gt; /etc/apk/repositories 安装启动项 1 2 3 4 5 6 7 8 apk update apk add dosfstools apk add grub-efi 关闭 swap setup-disk -s 0 第一问，vda 第二问，sys 第三问，y reboot 重启 安装常用项 1 apk add sudo curl wget bash tar unzip 修改 ssh 端口 1 2 3 4 vi /etc/ssh/sshd_config //找到 #Port 22 行，去掉 #，改成想要的端口号，保存 rc-service sshd restart 开启 warp和bbr，注：fr 给美国 IP，nl 给法国 IP，pl 给波兰 IP 1 2 3 4 5 6 7 8 wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh \u0026amp;\u0026amp; bash menu.sh [option] [lisence/url/token] echo \u0026#34;tcp_bbr\u0026#34; \u0026gt;\u0026gt; /etc/modules-load.d/bbr.conf modprobe tcp_bbr echo \u0026#34;net.core.default_qdisc=fq\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf echo \u0026#34;net.ipv4.tcp_congestion_control=bbr\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf sysctl -p reboot 重启 验证 lsmod | grep bbr //出现以下内容表示成功：tcp_bbr\n参考: https://www.hupan.li/111.html\n命令行\n1 2 3 4 5 6 7 8 9 10 11 12 13 scw instance server create zone=fr-par-1 root-volume=local:10GB name=fr type=STARDUST1-S ipv6=true scw instance server stop 23545cdb-69e7-44ff-9f51-3406669832a6 zone=fr-par-1 scw instance server detach-volume volume-id=4a0bd2f0-65b3-475f-8134-5ae16fda8c4d zone=fr-par-1 scw instance volume delete 4a0bd2f0-65b3-475f-8134-5ae16fda8c4d 失败：scw instance volume create name=fr-1g volume_type=l_ssd size=1g scw instance server attach-volume volume-id=052e8a24-aa73-46c8-ae42-7e62438600ba server-id=23545cdb-69e7-44ff-9f51-3406669832a6 zone=fr-par-1 scw instance server start 23545cdb-69e7-44ff-9f51-3406669832a6 zone=fr-par-1 Photo by Pawel Czerwinski on Unsplash\n","date":"2024-10-20T00:00:00Z","image":"https://img.543083.xyz/api/cfile/AgACAgUAAxkDAAIBymcZ2gEc5061x-nlL9wtL0TbaIsaAAIlwDEbXNPRVIvESQrMDUDZAQADAgADeAADNgQ","permalink":"https://blog.yonflee.us.kg/p/%E6%98%9F%E8%BE%B0scaleway1c1g1g-alpine/","title":"星辰scaleway1C1G1G-alpine"},{"content":"ipv6 only ipv6 only的机器没有v4入口，但是一般自带v4出口，带宽很小，只有v6带宽高 系统默认的解析顺序是ipv6，对于支持ipv6的网站来说速度没有影响，但是对于只有ipv4的网站，走v4速度会很慢\n这时我们可以安装warp代理v4流量，然后从warp v6出口，这时速度会有大幅提升\n1 wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh \u0026amp;\u0026amp; bash menu.sh [option] [lisence/url/token] 选择warp 4 然后修改里面的engpoint为官方默认的\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 root@wawo:~# cat /etc/wireguard/warp.conf [Interface] PrivateKey = nAT67OpRgxE4wTBNwAdkz8ydslrp7MCguEb/TlzxD+A= Address = 172.16.0.2/32 Address = 2606:4700:110:855f:fc54:6680:6544:e68c/128 DNS = 1.1.1.1,8.8.8.8,8.8.4.4,2606:4700:4700::1111,2001:4860:4860::8888,2001:4860:4860::8844 MTU = 1420 PostUp = ip -4 rule add from 10.10.57.99 lookup main PostDown = ip -4 rule delete from 10.10.57.99 lookup main PostUp = ip -6 rule add from 2400:c620:2c:a291::1 lookup main PostDown = ip -6 rule delete from 2400:c620:2c:a291::1 lookup main #Reserved = [226,135,179] #Table = off #PostUp = /etc/wireguard/NonGlobalUp.sh #PostDown = /etc/wireguard/NonGlobalDown.sh [Peer] PublicKey = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo= AllowedIPs = 0.0.0.0/0 #AllowedIPs = ::/0 Endpoint = engage.cloudflareclient.com:2408 PersistentKeepalive = 30 ","date":"2024-09-20T00:00:00Z","image":"https://pic.jiasu.in/1728899697359.png","permalink":"https://blog.yonflee.us.kg/p/acme%E8%87%AA%E5%8A%A8%E7%94%B3%E8%AF%B7%E8%AF%81%E4%B9%A6/","title":"acme自动申请证书"},{"content":"ipv6 only ipv6 only的机器没有v4入口，但是一般自带v4出口，带宽很小，只有v6带宽高 系统默认的解析顺序是ipv6，对于支持ipv6的网站来说速度没有影响，但是对于只有ipv4的网站，走v4速度会很慢\n这时我们可以安装warp代理v4流量，然后从warp v6出口，这时速度会有大幅提升\n1 wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh \u0026amp;\u0026amp; bash menu.sh [option] [lisence/url/token] 选择warp 4 然后修改里面的engpoint为官方默认的\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 root@wawo:~# cat /etc/wireguard/warp.conf [Interface] PrivateKey = nAT67OpRgxE4wTBNwAdkz8ydslrp7MCguEb/TlzxD+A= Address = 172.16.0.2/32 Address = 2606:4700:110:855f:fc54:6680:6544:e68c/128 DNS = 1.1.1.1,8.8.8.8,8.8.4.4,2606:4700:4700::1111,2001:4860:4860::8888,2001:4860:4860::8844 MTU = 1420 PostUp = ip -4 rule add from 10.10.57.99 lookup main PostDown = ip -4 rule delete from 10.10.57.99 lookup main PostUp = ip -6 rule add from 2400:c620:2c:a291::1 lookup main PostDown = ip -6 rule delete from 2400:c620:2c:a291::1 lookup main #Reserved = [226,135,179] #Table = off #PostUp = /etc/wireguard/NonGlobalUp.sh #PostDown = /etc/wireguard/NonGlobalDown.sh [Peer] PublicKey = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo= AllowedIPs = 0.0.0.0/0 #AllowedIPs = ::/0 Endpoint = engage.cloudflareclient.com:2408 PersistentKeepalive = 30 ","date":"2024-09-20T00:00:00Z","image":"https://pic.jiasu.in/1728899697359.png","permalink":"https://blog.yonflee.us.kg/p/ipv6-only%E7%9A%84%E6%9C%BA%E5%99%A8%E6%8C%87%E5%AE%9A%E5%87%BA%E7%AB%99%E6%8F%90%E9%AB%98%E7%BD%91%E9%80%9F/","title":"ipv6 only的机器指定出站提高网速"},{"content":"在vps上开设虚拟化lxc玩具 参考https://www.spiritlhl.net/guide/incus/incus_install.html\n1 2 3 4 curl -L https://raw.githubusercontent.com/oneclickvirt/incus/main/scripts/incus_install.sh -o incus_install.sh \u0026amp;\u0026amp; chmod +x incus_install.sh \u0026amp;\u0026amp; bash incus_install.sh 开机 ./buildone.sh test 1 256 2 20001 20002 20025 500 500 N debian11 pve适合kvm虚拟化的vps，incus适合Lxc\nPhoto by Pawel Czerwinski on Unsplash\n","date":"2024-09-20T00:00:00Z","image":"https://blog.yonflee.us.kg/p/%E5%BC%80%E8%AE%BElxc%E7%8E%A9%E5%85%B7%E6%9C%BA/cover_hu_e95a4276bf860a84.jpg","permalink":"https://blog.yonflee.us.kg/p/%E5%BC%80%E8%AE%BElxc%E7%8E%A9%E5%85%B7%E6%9C%BA/","title":"开设lxc玩具机"},{"content":"Hurricane Electric (简称：HE) 隧道服务简介 Hurricane Electric (简称：HE) 是一家位于美国的全球互联网服务提供商。该公司运营了世界上以对等数最大 IPv6 网络，同时也提供免费的 IPv6 隧道服务，其隧道服务可以追溯到 2001 年。虽然经过多年的发展 IPv6 已经相当普及，但依然还是有部分 VPS 商家由于各种各样的原因没有给 VPS 标配 IPv6 地址，有的需要加钱、有的甚至不给加钱。如果此时有访问 IPv6 网络的需求，就可以接入 HE Tun­nel Bro­ker 提供的 IPv6 隧道免费给 IPv4 VPS 主机添加公网 IPv6 地址来获得 IPv6 网络的访问能力。\nHE IPv6 隧道的使用场景与局限性 使用场景： 给 VPS 服务器、家用设备接入 IPv6 公网访问能力 使 IPv4 VPS 可访问 IPv6 网络，比如给 IPv6 Only VPS 做 SSH 跳板 HE IPv6 地址可绕过部分网站的 IP 访问限制： 解锁 Netflix 非自制剧 (已失效) 解锁 ChatGPT 访问限制 (只验证可访问，未验证是否稳定不封号) 局限性： 无法使用 HE 提供的 IPv6 公网 IP 接入 Cloudflare CDN 。 滥用严重，IP 评分机构标记为高风险。使用 HE IPv6 访问网站会遇到以下问题： 部分网站为了防止资源滥用，可能会限制访问、频繁弹人机验证、无法注册。 银行、购物等安全要求高的网站可能会判定为欺诈行为、导致砍单，严重会导致封号。 HE Tunnel Broker 设置教程 创建 Tunnel Broker IPv6 隧道 注册 Tunnel Broker 账号。 点击左侧的 Create Regular Tunnel（创建常规隧道）。 输入 VPS 的公网 IP 地址。 根据 VPS 的位置选择一个合适的节点。 页面拉到最下方，点击 Create Tunnel（创建隧道）。 在 Tunnel Details 页面可以看到创建的 IPv6 隧道的详细信息，其中 Client IPv6 Address 是申请到的公网 IPv6 地址。\n获取配置示例 在 Tunnel Details 页面有个 Example Configuration 选项卡，在这里你可以选择合适的配置示例。就比如这里有 De­bian/​Ubuntu 的 interfaces 配置文件示例：\n1 2 3 4 5 6 7 8 9 10 11 # /etc/network/interfaces.d/he-ipv6 auto he-ipv6 iface he-ipv6 inet6 v4tunnel address 2001:xxx:xxxx:xxxx::2 netmask 64 endpoint 216.66.84.46 local 233.xxx.xxx.233 ttl 255 gateway 2001:xxx:xxxx:xxxx::1 EOF TIPS: 如果是 NAT VPS 或 VPC 内网方案则需要将local字段后面的公网 IP 替换为内网 IP 。获取命令：\n1 ip route get 8.8.8.8 | grep -oP \u0026#39;src \\K\\S+\u0026#39; 启用 IPv6 隧道 安装网络工具包 1 2 sudo apt update sudo apt install net-tools iproute2 -y 启动 he-ipv6 网络接口 1 sudo ifup he-ipv6 TIPS：若提示 ifup: unknown interface he-ipv6 ，则添加 source /etc/network/interfaces.d/*到/etc/network/interfaces文件：\n1 echo \u0026#39;source /etc/network/interfaces.d/*\u0026#39; \u0026gt;\u0026gt;/etc/network/interfaces 启用后执行 ifconfig 命令，这时应该有一个 he-ipv6 接口，类似下面这样： 1 2 3 4 5 6 7 8 he-ipv6: flags=209\u0026lt;UP,POINTOPOINT,RUNNING,NOARP\u0026gt; mtu 1480 inet6 2001:xxx:xxxx:xxxx::2 prefixlen 64 scopeid 0x0\u0026lt;global\u0026gt; inet6 fe80::xxxx:xxxx prefixlen 64 scopeid 0x20\u0026lt;link\u0026gt; sit txqueuelen 1000 (IPv6-in-IPv4) RX packets 11605 bytes 3127821 (3.1 MB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 13811 bytes 2403522 (2.4 MB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 若没有生效可以尝试重启网络：\n1 sudo systemctl restart networking 其它操作 检测 IPv6 支持 执行 ping6 google.com 命令，能 ping 通说明 VPS 已经支持 IPv6 网络了。\nNAT VPS 的额外设置 IPv4 NAT VPS 除了前面提到的替换 IP 操作以外，可能还需要一些额外的设置，否则可能还是无法访问 IPv6 网络。\n配置防火墙允许 41 端口入站： 1 ufw allow 41 添加相关的路由规则： 1 route -A inet6 add ::/0 dev he-ipv6 DNS 设置优化 TIPS: 以下设置仅针对操作系统 DNS ，代理软件应单独设置内置的 DNS 和 IP 分流策略，具体参考相关软件文档中的 DNS 和路由部分。\n选择合适的 DNS 解析服务器 因为通过 IPv6 隧道去请求可能会拖慢 DNS 解析速度，所以一般不建议在系统中使用 IPv6 地址的 DNS。\n编辑 /etc/resolv.conf 文件，更改 DNS 解析服务器为支持查询 AAAA 记录的 DNS 服务器，比如 Google Public DNS：\n1 2 nameserver 8.8.8.8 nameserver 8.8.4.4 优先使用 IPv4 网络 默认情况下 IPv6 网络优先级会高于 IPv4 ，为了防止 IPv6 隧道拖慢 VPS 的正常网速，可以设置优先使用 IPv4 网络。同时也能减轻了对 HE Tun­nel Bro­ker 节点的网络压力，合理使用宝贵的免费资源。\n编辑 /etc/gai.conf 文件，在末尾添加下面这行配置：\n1 precedence ::ffff:0:0/96 100 一键添加命令如下：\n1 echo \u0026#39;precedence ::ffff:0:0/96 100\u0026#39; | sudo tee -a /etc/gai.conf 完事执行 curl ip.p3terx.com 命令，显示 VPS 的 IPv4 地址则代表成功。\n删除 HE IPv6 隧道 不想用了，或者想使用其它方式访问 IPv6 网络时，记得先删除。\n停用隧道： 1 sudo ifdown he-ipv6 删除 he-ipv6 网络接口配置文件（若没有删除重启后会自动启用）： 1 sudo rm -f /etc/network/interfaces.d/he-ipv6 无限ipv6代理 Http Proxy IPv6 Pool Make every request from a separate IPv6 address.\nhttps://zu1k.com/posts/tutorials/http-proxy-ipv6-pool/\nTutorial Assuming you already have an entire IPv6 subnet routed to your server, for me I purchased Vultr\u0026rsquo;s server to get one.\nGet your IPv6 subnet prefix and interface name, for me is 2001:19f0:6001:48e4::/64 and enp1s0.\n1 2 3 4 5 6 7 $ ip a ...... 2: enp1s0: \u0026lt;BROADCAST,MULTICAST,ALLMULTI,UP,LOWER_UP\u0026gt; mtu 1500 qdisc fq state UP group default qlen 1000 ...... inet6 2001:19f0:6001:48e4:5400:3ff:fefa:a71d/64 scope global dynamic mngtmpaddr valid_lft 2591171sec preferred_lft 603971sec ...... Add route via default internet interface\n1 ip route add local 2001:19f0:6001:48e4::/64 dev enp1s0 Open ip_nonlocal_bind for binding any IP address:\n1 sysctl net.ipv6.ip_nonlocal_bind=1 For IPv6 NDP, install ndppd:\n1 apt install ndppd then edit /etc/ndppd.conf:\n1 2 3 4 5 6 7 8 9 10 11 route-ttl 30000 proxy \u0026lt;INTERFACE-NAME\u0026gt; { router no timeout 500 ttl 30000 rule \u0026lt;IP6_SUBNET\u0026gt; { static } } (edit the file to match your configuration)\nRestart the service:\n1 service ndppd restart Now you can test by using curl:\n1 2 3 4 5 $ curl --interface 2001:19f0:6001:48e4::1 ipv6.ip.sb 2001:19f0:6001:48e4::1 $ curl --interface 2001:19f0:6001:48e4::2 ipv6.ip.sb 2001:19f0:6001:48e4::2 Great!\nFinally, use the http proxy provided by this project:\n1 2 3 4 5 6 7 8 9 10 11 12 13 $ while true; do curl -x http://127.0.0.1:51080 ipv6.ip.sb; done 2001:19f0:6001:48e4:971e:f12c:e2e7:d92a 2001:19f0:6001:48e4:6d1c:90fe:ee79:1123 2001:19f0:6001:48e4:f7b9:b506:99d7:1be9 2001:19f0:6001:48e4:a06a:393b:e82f:bffc 2001:19f0:6001:48e4:245f:8272:2dfb:72ce 2001:19f0:6001:48e4:df9e:422c:f804:94f7 2001:19f0:6001:48e4:dd48:6ba2:ff76:f1af 2001:19f0:6001:48e4:1306:4a84:570c:f829 2001:19f0:6001:48e4:6f3:4eb:c958:ddfa 2001:19f0:6001:48e4:aa26:3bf9:6598:9e82 2001:19f0:6001:48e4:be6b:6a62:f8f7:a14d 2001:19f0:6001:48e4:b598:409d:b946:17c Photo by Pawel Czerwinski on Unsplash\n","date":"2024-09-20T00:00:00Z","image":"https://blog.yonflee.us.kg/p/%E5%A6%82%E4%BD%95%E7%BB%99vps%E6%B7%BB%E5%8A%A0ipv6%E5%B9%B6%E8%8E%B7%E5%BE%97%E6%97%A0%E9%99%90%E4%BB%A3%E7%90%86ip/cover_hu_e95a4276bf860a84.jpg","permalink":"https://blog.yonflee.us.kg/p/%E5%A6%82%E4%BD%95%E7%BB%99vps%E6%B7%BB%E5%8A%A0ipv6%E5%B9%B6%E8%8E%B7%E5%BE%97%E6%97%A0%E9%99%90%E4%BB%A3%E7%90%86ip/","title":"如何给vps添加ipv6并获得无限代理ip"},{"content":"下载 1 curl -L \u0026#39;https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64\u0026#39; -o /usr/local/bin/cloudflared 登录认证 1 cloudflared tunnel login 创建域名，得到隧道ID 1 cloudflared tunnel route dns ssh awssgssh.543083.xyz 修改配置文件，添加 SSH 代理 1 2 3 4 5 6 7 8 9 10 11 cat \u0026gt; /root/.cloudflared/config.yml \u0026lt;\u0026lt; EOF tunnel: e7425241-3827-4e3a-830e-dde066ae6915 credentials-file: /root/.cloudflared/e7425241-3827-4e3a-830e-dde066ae6915.json protocol: h2mux ingress: # 第五个，反代 SSH 服务 - hostname: awssgssh.543083.xyz service: ssh://localhost:1522 # 最后记得添加一个默认 404 - service: http_status:404 EOF 验证 1 2 cloudflared tunnel ingress validate cloudflared tunnel ingress rule https://awssgssh.543083.xyz 启动测试 1 cloudflared tunnel --config ~/.cloudflared/config.yml run e7425241-3827-4e3a-830e-dde066ae6915 安装系统服务 1 cloudflared --config /root/.cloudflared/config.yml service install 配置页面 application 参考：使用 Cloudflare Tunnels 通过 Web SSH 访问服务器 参考：https://blog.hellowood.dev/posts/%E4%BD%BF%E7%94%A8cloudflare-tunnels%E9%80%9A%E8%BF%87web-ssh%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1%E5%99%A8/ Photo by Pawel Czerwinski on Unsplash\n","date":"2024-09-20T00:00:00Z","image":"https://blog.yonflee.us.kg/p/%E4%BD%BF%E7%94%A8cloudflared%E6%90%AD%E5%BB%BAwebssh/cover_hu_e95a4276bf860a84.jpg","permalink":"https://blog.yonflee.us.kg/p/%E4%BD%BF%E7%94%A8cloudflared%E6%90%AD%E5%BB%BAwebssh/","title":"使用cloudflared搭建webssh"},{"content":"1. 部署vless节点 注册cloudflare账号 部署worker节点 1 参考https://github.com/cmliu/edgetunnel项目 2. 使用工具优选ipv6节点 使用上一个优选ip视频方法，进行ipv6优选,填入节点中\n3. 设置ipv6路由优先 设置客户端路由，优先使用ipv6，这样节点在解析油管域名时会优先使用ipv6地址\n4. Enjoy!!! Photo by Pawel Czerwinski on Unsplash\n","date":"2024-09-10T00:00:00Z","image":"https://blog.yonflee.us.kg/p/%E5%A6%82%E4%BD%95%E6%97%A0%E5%B9%BF%E5%91%8A%E7%9C%8B%E6%B2%B9%E7%AE%A1%E8%A7%86%E9%A2%91/unsplash_hu_d707a208a9a01fc2.jpg","permalink":"https://blog.yonflee.us.kg/p/%E5%A6%82%E4%BD%95%E6%97%A0%E5%B9%BF%E5%91%8A%E7%9C%8B%E6%B2%B9%E7%AE%A1%E8%A7%86%E9%A2%91/","title":"如何无广告看油管视频"},{"content":"1. 安装 iptables： Ubuntu / Debian 1 apt update \u0026amp;\u0026amp; apt install sudo -y \u0026amp;\u0026amp; sudo apt install iptables iptables-persistent -y CentOS 1 yum update -y \u0026amp;\u0026amp; yum install sudo -y \u0026amp;\u0026amp; sudo yum install iptables iptables-services -y Alpine 1 apk update \u0026amp;\u0026amp; apk add sudo bash iptables 如果提示失败可以尝试添加DNS后再重新运行以上命令\n1 echo -e \u0026#34;nameserver 1.1.1.1\\nnameserver 8.8.8.8\\nnameserver 2606:4700:4700::1111\\nnameserver 2001:4860:4860::8888\u0026#34; | tee /etc/resolv.conf 2. 修改 sysctl 配置： 启用 IPv4 和 IPv6 的流量转发。\n1 2 3 echo \u0026#39;net.ipv4.ip_forward=1\u0026#39; | sudo tee -a /etc/sysctl.conf echo \u0026#39;net.ipv6.conf.all.forwarding=1\u0026#39; | sudo tee -a /etc/sysctl.conf sudo sysctl -p 接下来不会提供 IPv4 的部署方法，如果你有能力，可以自己修改命令去实现，如果你不会，说明你还不明白这个操作以为着什么，所以请不要自建 IPv4 的 ProxyIP！\n3. 设置 ip6tables 转发 IPv6 流量规则： 先获取转发目标IP地址，推荐自行 解析 Cloudflare CDN 地址获得 CFIP，执行nslookup chat.openai.com，例如返回内容如下\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 root:~# nslookup chat.openai.com Server: 1.1.1.1 Address: 1.1.1.1#53 Non-authoritative answer: chat.openai.com canonical name = chat.openai.com.cdn.cloudflare.net. Name: chat.openai.com.cdn.cloudflare.net Address: 104.18.37.228 Name: chat.openai.com.cdn.cloudflare.net Address: 172.64.150.28 Name: chat.openai.com.cdn.cloudflare.net Address: 2606:4700:4400::6812:25e4 Name: chat.openai.com.cdn.cloudflare.net Address: 2606:4700:4400::ac40:961c 如果你的 VPS 只有 IPv6 出口，可以执行如下命令 sudo ip6tables -t nat -A PREROUTING -p tcp --dport 443 -j DNAT --to-destination [2606:4700:4400::ac40:961c]:443 sudo ip6tables -t nat -A POSTROUTING -p tcp -d 2606:4700:4400::ac40:961c --dport 443 -j MASQUERADE 通过以上步骤，你应该能够成功地在只有 IPv6 的 443 端口的流量转发到指定的 IPv6 地址 2606:4700:4400::ac40:961c。\n你可以使用以下命令来查看 ip6tables 中的当前规则，确认规则已正确添加：\n1 sudo ip6tables -t nat -L -v -n 4. 保存 ip6tables 规则： 要确保在重启后规则依然有效，你需要将规则保存到文件中，并设置系统在启动时加载这些规则。\n保存规则：\n1 sudo ip6tables-save \u0026gt; /etc/iptables/rules.v6 5. 重启系统或者手动加载规则 你可以重启系统来验证规则是否被正确加载，或者手动加载保存的规则：\n1 sudo ip6tables-restore \u0026lt; /etc/iptables/rules.v6 6. 后悔药 清除现有的转发规则\n1 sudo ip6tables -t nat -F Photo by Pawel Czerwinski on Unsplash\n","date":"2024-08-06T00:00:00Z","image":"https://blog.yonflee.us.kg/p/%E4%BD%BF%E7%94%A8iptables%E8%87%AA%E5%BB%BAproxyip/cover_hu_e95a4276bf860a84.jpg","permalink":"https://blog.yonflee.us.kg/p/%E4%BD%BF%E7%94%A8iptables%E8%87%AA%E5%BB%BAproxyip/","title":"如何使用iptables自建proxyip"},{"content":"转发cf域名 https://blog.tanglu.me/cloudflare_proxy_ip/\n如何避免被扫 演示alpine上 1、安装nginx和stream模块 1 apk add nginx nginx-mod-stream 2、添加配置cf.conf\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 sg-ac:/etc/nginx/stream.d# ls -lrt total 4 -rw-r--r-- 1 root root 849 Sep 5 01:56 cf.conf sg-ac:/etc/nginx/stream.d# cat cf.conf # 定义允许的上游服务器 upstream allowed_backend { server 104.18.32.47:443; } # 定义一个拒绝连接的空上游（可以是无效的 IP 或者本地地址） upstream reject_backend { server 127.0.0.1:1; # 无效的服务器地址，用于拒绝连接 } # 使用 map 指令根据 SNI 值选择上游 map $ssl_preread_server_name $backend { # 允许的域名 worker.543083.xyz allowed_backend; blog.543083.xyz allowed_backend; # 其他所有 SNI 值都将被拒绝 default reject_backend; } # 定义服务器块，监听443端口 server { listen 443; # 启用 SSL 预读取功能以获取 SNI 信息 ssl_preread on; # 根据 SNI 选择上游服务器 proxy_pass $backend; } 其中allowed_backend是任意的cloudflare cdn节点，可以nslookup chatgpt.com得到一个ip，map中定义允许的反代域名，可以是自己的开了小黄云的cf域名，其他域名禁止访问，这样防止被扫出来当节点使用\n","date":"2024-08-06T00:00:00Z","image":"https://blog.yonflee.us.kg/p/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8nginx-stream%E6%A8%A1%E5%9D%97%E8%87%AA%E5%BB%BAproxyip/cover_hu_e95a4276bf860a84.jpg","permalink":"https://blog.yonflee.us.kg/p/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8nginx-stream%E6%A8%A1%E5%9D%97%E8%87%AA%E5%BB%BAproxyip/","title":"如何使用nginx stream模块自建proxyip"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;—\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\n— Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code A B C D E F Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ultricies, sapien non euismod aliquam, dui ligula tincidunt odio, at accumsan nulla sapien eget ex. Proin eleifend dictum ipsum, non euismod ipsum pulvinar et. Vivamus sollicitudin, quam in pulvinar aliquam, metus elit pretium purus Proin sit amet velit nec enim imperdiet vehicula. Ut bibendum vestibulum quam, eu egestas turpis gravida nec Sed scelerisque nec turpis vel viverra. Vivamus vitae pretium sapien Code Blocks Code block with backticks 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Diff code block 1 2 3 4 5 [dependencies.bevy] git = \u0026#34;https://github.com/bevyengine/bevy\u0026#34; rev = \u0026#34;11f52b8c72fc3a568e8bb4a4cd1f3eb025ac2e13\u0026#34; - features = [\u0026#34;dynamic\u0026#34;] + features = [\u0026#34;jpeg\u0026#34;, \u0026#34;dynamic\u0026#34;] One line code block 1 \u0026lt;p\u0026gt;A paragraph\u0026lt;/p\u0026gt; List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements — abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL + ALT + Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nThe above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2023-09-07T00:00:00Z","permalink":"https://blog.yonflee.us.kg/p/markdown-syntax-guide/","title":"Markdown Syntax Guide"},{"content":"Hugo theme Stack supports the creation of interactive image galleries using Markdown. It\u0026rsquo;s powered by PhotoSwipe and its syntax was inspired by Typlog.\nTo use this feature, the image must be in the same directory as the Markdown file, as it uses Hugo\u0026rsquo;s page bundle feature to read the dimensions of the image. External images are not supported.\nSyntax 1 ![Image 1](1.jpg) ![Image 2](2.jpg) ![Image 1](1.jpg) ![Image 2](2.jpg) Result Photo by mymind and Luke Chesser on Unsplash\n","date":"2023-08-26T00:00:00Z","image":"https://blog.yonflee.us.kg/p/image-gallery/2_hu_3e58a979f20e4e46.jpg","permalink":"https://blog.yonflee.us.kg/p/image-gallery/","title":"Image gallery"},{"content":"For more details, check out the documentation.\nBilibili video Tencent video YouTube video Generic video file Your browser doesn't support HTML5 video. Here is a link to the video instead. Gist GitLab Quote Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n― A famous person, The book they wrote Photo by Codioful on Unsplash\n","date":"2023-08-25T00:00:00Z","image":"https://blog.yonflee.us.kg/p/shortcodes/cover_hu_5667347daefb4230.jpg","permalink":"https://blog.yonflee.us.kg/p/shortcodes/","title":"Shortcodes"},{"content":"Stack has built-in support for math typesetting using KaTeX.\nIt\u0026rsquo;s not enabled by default side-wide, but you can enable it for individual posts by adding math: true to the front matter. Or you can enable it side-wide by adding math = true to the params.article section in config.toml.\nInline math This is an inline mathematical expression: $\\varphi = \\dfrac{1+\\sqrt5}{2}= 1.6180339887…$\n1 $\\varphi = \\dfrac{1+\\sqrt5}{2}= 1.6180339887…$ Block math $$ \\varphi = 1+\\frac{1} {1+\\frac{1} {1+\\frac{1} {1+\\cdots} } } $$\n1 2 3 $$ \\varphi = 1+\\frac{1} {1+\\frac{1} {1+\\frac{1} {1+\\cdots} } } $$ $$ f(x) = \\int_{-\\infty}^\\infty\\hat f(\\xi),e^{2 \\pi i \\xi x},d\\xi $$\n1 2 3 $$ f(x) = \\int_{-\\infty}^\\infty\\hat f(\\xi)\\,e^{2 \\pi i \\xi x}\\,d\\xi $$ ","date":"2023-08-24T00:00:00Z","permalink":"https://blog.yonflee.us.kg/p/math-typesetting/","title":"Math Typesetting"}]